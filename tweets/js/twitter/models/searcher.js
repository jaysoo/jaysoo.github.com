define(["jquery","underscore","backbone"],function(a,b,c){var d=c.Model.extend({searchUrl:"http://search.twitter.com/search.json",defaults:{query:null,results:null},initialize:function(){b.bindAll(this,"onQueryChange","refresh","loadData"),this.bind("change:query",this.onQueryChange)},onQueryChange:function(){this.url=this.searchUrl+"?q="+encodeURIComponent(this.get("query"))+"&callback=?",this.refresh()},refresh:function(){var b=this.get("query");if(!b){this.set({results:null});return}this.trigger("ajax:before"),a.getJSON(this.url,this.loadData)},loadData:b.debounce(function(a){this.trigger("ajax:after"),this.set({results:a})},200)});return d})